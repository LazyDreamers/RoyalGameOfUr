(this.webpackJsonproyalgameofur=this.webpackJsonproyalgameofur||[]).push([[0],{11:function(e,a,t){e.exports=t(20)},16:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){},20:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),u=t.n(o),c=(t(16),t(8)),l=t(2),i=t.n(l),s=t(7),y=t(3),p=t(4),d=t(6),k=t(5),f=t(1),v=(t(18),function(e){Object(d.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(y.a)(this,t),(n=a.call(this)).state=null,n.onClickAction=n.onClickAction.bind(Object(f.a)(n)),n.update=n.update.bind(Object(f.a)(n)),n.square=e.square,n.zmiana=e.zmiana,n.square.update=n.update,n}return Object(p.a)(t,[{key:"update",value:function(){this.setState(this.square)}},{key:"onClickAction",value:function(e){e.preventDefault(),this.zmiana(this.square)}},{key:"render",value:function(){return r.a.createElement("button",{className:this.square.aktywny?"bodyActive":"bodyInactive",onClick:this.onClickAction},this.square.value," ",r.a.createElement("br",null)," ",this.square.player)}}]),t}(r.a.Component));t(19);function h(){var e=function(){},a={_base:{A:{uid:"A",value:2,player:"dawid",aktywny:!1,extra:!1,update:e},B:{uid:"B",value:0,player:null,aktywny:!1,extra:!1,update:e},C:{uid:"C",value:0,player:null,aktywny:!1,extra:!1,update:e},D:{uid:"D",value:2,player:"damian",aktywny:!1,extra:!1,update:e},E:{uid:"E",value:0,player:null,aktywny:!1,extra:!1,update:e},F:{uid:"F",value:0,player:null,aktywny:!1,extra:!1,update:e}},_pathsForPlayers:{dawid:["A","B","E","F"],damian:["D","E","B","C"]},_render:[["A","B","C"],["D","E","F"]],receipt:{resolve:function(e){},reject:function(e){}},getFirstPlayer:function(){return"dawid"},getPlayerPath:function(e){var a=this;return this._pathsForPlayers[e].map((function(e){return a._base[e]}))},nextPlayer:function(e){return"dawid"===e?"damian":"dawid"},renderSquares:function(){var e=this;return this._render.map((function(a){return a.map((function(a){return e._base[a]}))})).flat()}};return a.receipt=null,a}var w=function(e){Object(d.a)(t,e);var a=Object(k.a)(t);function t(){var e;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).store=h(),e.state={renderSquares:e.store.renderSquares()},e.startGameLoop=Object(s.a)(i.a.mark((function a(){var t,n,r,o,u,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.store,n=t.getFirstPlayer(),console.log("START GRY, zaczyna: ".concat(n));case 3:if(console.error("Teraz player: ".concat(n)),r=e.rzucamy_kostk\u0105(),0!==(o=e.zwraca_pola_do_aktywacji({store:t,dice:r,player:n})).length){a.next=11;break}return n=t.nextPlayer(n),e.koniec_tury(),a.abrupt("continue",3);case 11:return a.next=13,e.czekaj_na_wskazanie_pola(o);case 13:if(u=a.sent,console.log("czekaj_na_wskazanie_pola zrw\xf3ci\u0142o: ",u),c=e.wykonaj_ruch({store:t,pole:u,dice:r,player:n}),!e.czy_wygra\u0142_gracz({store:t,player:n})){a.next=18;break}return a.abrupt("break",22);case 18:c.extra||(n=t.nextPlayer(n),console.warn("::WHILE:: sprawd\u017a extra: Zmiana gracza.")),e.koniec_tury(),a.next=3;break;case 22:e.koniec_gry(n),console.log("Gra si\u0119\xa0zako\u0144czy\u0142a, wygra\u0142 player: ",n);case 24:case"end":return a.stop()}}),a)}))),e.rzucamy_kostk\u0105=function(){var e=Math.floor(5*Math.random()+0);return console.log("wynik kostki:",e),e},e.zwraca_pola_do_aktywacji=function(e){var a=e.store,t=e.dice,n=e.player,r=[];return a.getPlayerPath(n).forEach((function(e,a,o){!e.value<=0&&(e.player===n&&a+t<=o.length-1&&o[a+t].player!==n&&(e.aktywny=!0,r.push(e)))})),console.log("zwraca_pola_do_aktywacji: ",r),r},e.czy_jest_jakiekolwiek_aktywne_pole=function(a){var t=e.state.squares.some((function(e){return!0===e.aktywny}));return console.log("Jest aktywne pole",t),t},e.czekaj_na_wskazanie_pola=function(){var a=Object(s.a)(i.a.mark((function a(t){var n,r,o,u,l,s,y;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log("czekaj_na_wskazanie_pola: AKTYWACJA: ",t),n=Object(c.a)(t);try{for(n.s();!(r=n.n()).done;)(o=r.value).aktywny=!0,o.update()}catch(i){n.e(i)}finally{n.f()}return a.next=5,new Promise((function(a,t){e.receipt={resolve:a,reject:t}}));case 5:u=a.sent,l=Object(c.a)(t);try{for(l.s();!(s=l.n()).done;)(y=s.value).aktywny=!1,y.update()}catch(i){l.e(i)}finally{l.f()}return a.abrupt("return",u);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.wykonaj_ruch=function(e){var a=e.store,t=e.pole,n=e.dice,r=e.player,o=a.getPlayerPath(r),u=o.findIndex((function(e){return e===t.uid})),c=t,l=o[u+n];l.player!==r&&l.value>0&&(a.getPlayerPath(a.nextPlayer(r))[0].value+=l.value,l.player=null,l.value=0);return c.value-=1,l.player=r,l.value+=1,0===c.value&&(c.player=null),c.update(),l.update(),l},e.czy_wygra\u0142_gracz=function(e){var a=e.store,t=e.player,n=a.getPlayerPath(t);return 2===n[n.length-1].value},e.koniec_tury=function(){console.log("koniec tury")},e.koniec_gry=function(){console.log("koniec gry; FUNKCJA, KONIEC GRY"),alert("PRZESZED\u0141E\u015a CA\u0141A GR\u0118!! GRATULUJ\u0118!!")},e.handleClick=function(a){e.receipt?e.receipt.resolve(a):console.error(" !  ojjojoj, brakuje paragonu")},e}return Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.startGameLoop},"START Gry"),r.a.createElement("ul",{className:"board"},this.state.renderSquares.map((function(a){return r.a.createElement(v,Object.assign({key:a.uid},a,{square:a,zmiana:e.handleClick}))}))))}}]),t}(r.a.Component),_=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w,null)))};u.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.300cc2c6.chunk.js.map