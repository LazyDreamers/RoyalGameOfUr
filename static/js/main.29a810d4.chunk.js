(this.webpackJsonproyalgameofur=this.webpackJsonproyalgameofur||[]).push([[0],{11:function(e,a,t){e.exports=t(20)},16:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){},20:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),u=t(10),o=t.n(u),l=(t(16),t(8)),c=t(1),i=t.n(c),s=t(3),y=t(4),p=t(6),d=t(5),k=t(7),f=t(2),w=(t(18),function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this)).state=null,n.onClickAction=n.onClickAction.bind(Object(f.a)(n)),n.update=n.update.bind(Object(f.a)(n)),n.square=e.square,n.zmiana=e.zmiana,n.square.update=n.update,n}return Object(y.a)(t,[{key:"update",value:function(){this.setState(this.square)}},{key:"onClickAction",value:function(e){e.preventDefault(),this.zmiana(this.square)}},{key:"render",value:function(){return r.a.createElement("button",{className:this.square.aktywny?"bodyActive":"bodyInactive",onClick:this.onClickAction},this.square.value," ",r.a.createElement("br",null)," ",this.square.player)}}]),t}(r.a.Component));t(19);function h(e){return v.apply(this,arguments)}function v(){return(v=Object(k.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,a)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){var e=function(){},a={_base:{A:{uid:"A",value:2,player:"dawid",aktywny:!1,extra:!1,update:e},B:{uid:"B",value:0,player:null,aktywny:!1,extra:!1,update:e},C:{uid:"C",value:0,player:null,aktywny:!1,extra:!1,update:e},D:{uid:"D",value:0,player:null,aktywny:!1,extra:!1,update:e},E:{uid:"E",value:0,player:null,aktywny:!1,extra:!1,update:e},F:{uid:"F",value:2,player:"damian",aktywny:!1,extra:!1,update:e},G:{uid:"G",value:0,player:null,aktywny:!1,extra:!1,update:e},H:{uid:"H",value:0,player:null,aktywny:!1,extra:!1,update:e},I:{uid:"I",value:0,player:null,aktywny:!1,extra:!1,update:e},J:{uid:"J",value:0,player:null,aktywny:!1,extra:!1,update:e}},_pathsForPlayers:{dawid:["A","B","C","D","E"],damian:["F","G","H","I","J"]},_render:[["A","B","C","D","E"],["F","G","H","I","J"]],getFirstPlayer:function(){return"dawid"},getPlayerPath:function(e){var a=this;return this._pathsForPlayers[e].map((function(e){return a._base[e]}))},nextPlayer:function(e){return"dawid"===e?"damian":"dawid"},renderSquares:function(){var e=this;return this._render.map((function(a){return a.map((function(a){return e._base[a]}))})).flat()},receipt:null};return a}var g=function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(e=a.call.apply(a,[this].concat(r))).store=m(),e.state={renderSquares:e.store.renderSquares()},e.startGameLoop=Object(k.a)(i.a.mark((function a(){var t,n,r,u,o,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.store,n=t.getFirstPlayer(),console.log("START GRY, zaczyna: ".concat(n));case 3:return a.next=6,h(500);case 6:if(console.error("Teraz player: ".concat(n)),r=e.rzucamy_kostk\u0105(),0!==(u=e.zwraca_pola_do_aktywacji({store:t,dice:r,player:n})).length){a.next=13;break}return n=t.nextPlayer(n),e.koniec_tury(),a.abrupt("continue",3);case 13:return a.next=15,e.czekaj_na_wskazanie_pola(u);case 15:if(o=a.sent,console.log("czekaj_na_wskazanie_pola zrw\xf3ci\u0142o: ",o),l=e.wykonaj_ruch({store:t,pole:o,dice:r,player:n}),!e.czy_wygra\u0142_gracz({store:t,player:n})){a.next=20;break}return a.abrupt("break",24);case 20:l.extra||(n=t.nextPlayer(n),console.warn("::WHILE:: sprawd\u017a extra: Zmiana gracza.")),e.koniec_tury(),a.next=3;break;case 24:e.koniec_gry(n),console.log("Gra si\u0119\xa0zako\u0144czy\u0142a, wygra\u0142 player: ",n);case 26:case"end":return a.stop()}}),a)}))),e.rzucamy_kostk\u0105=function(){var e=Math.floor(5*Math.random()+0);return console.log("wynik kostki:",e),e},e.zwraca_pola_do_aktywacji=function(e){var a=e.store,t=e.dice,n=e.player,r=[];return a.getPlayerPath(n).forEach((function(e,a,u){!e.value<=0&&(e.player===n&&a+t<=u.length-1&&u[a+t].player!==n&&(e.aktywny=!0,r.push(e)))})),console.log("zwraca_pola_do_aktywacji: ",r),r},e.czy_jest_jakiekolwiek_aktywne_pole=function(a){var t=e.state.squares.some((function(e){return!0===e.aktywny}));return console.log("Jest aktywne pole",t),t},e.czekaj_na_wskazanie_pola=function(){var a=Object(k.a)(i.a.mark((function a(t){var n,r,u,o,c,s,y;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log("czekaj_na_wskazanie_pola: AKTYWACJA: ",t),n=Object(l.a)(t);try{for(n.s();!(r=n.n()).done;)(u=r.value).aktywny=!0,u.update()}catch(i){n.e(i)}finally{n.f()}return a.next=5,new Promise((function(a,t){e.receipt={resolve:a,reject:t}}));case 5:o=a.sent,c=Object(l.a)(t);try{for(c.s();!(s=c.n()).done;)(y=s.value).aktywny=!1,y.update()}catch(i){c.e(i)}finally{c.f()}return a.abrupt("return",o);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.wykonaj_ruch=function(a){var t=a.store,n=a.pole,r=a.dice,u=a.player,o=t.getPlayerPath(u),l=t.getPlayerPath(t.nextPlayer(u)),c=e.state.renderSquares,i=o.findIndex((function(e){return e.uid===n.uid})),s=n,y=o[i+r],p=l[0],d=o[o.length-1];return console.log("PlayerPath",o),console.log("SourceSquare",s),console.log("sourceIndex",i),console.log("Target",y),console.log("Enemy",l),console.log("Enemy",p),console.log("STATE",c),y.player===t.nextPlayer()&&(p.value+=1),s.value-=1,y.value+=1,y.player=u,0===s.value&&(s.player=null),y.uid===d.uid&&(y.player=null),s.update(),y.update(),p.update(),y},e.czy_wygra\u0142_gracz=function(e){var a=e.store,t=e.player,n=a.getPlayerPath(t);return 2===n[n.length-1].value},e.koniec_tury=function(){console.log("koniec tury")},e.koniec_gry=function(){console.log("koniec gry; FUNKCJA, KONIEC GRY"),alert("PRZESZED\u0141E\u015a CA\u0141A GR\u0118!! GRATULUJ\u0118!!"),e.store=m(),e.setState({renderSquares:e.store.renderSquares()})},e.handleClick=function(a){e.receipt?e.receipt.resolve(a):console.error(" !  ojjojoj, brakuje paragonu")},e}return Object(y.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.startGameLoop},"START Gry"),r.a.createElement("ul",{className:"board"},this.state.renderSquares.map((function(a){return r.a.createElement(w,Object.assign({key:a.uid},a,{square:a,zmiana:e.handleClick}))}))))}}]),t}(r.a.Component),_=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(g,null)))};o.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.29a810d4.chunk.js.map