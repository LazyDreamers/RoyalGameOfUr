(this.webpackJsonproyalgameofur=this.webpackJsonproyalgameofur||[]).push([[0],[,,,,,,,,,function(e,a,t){e.exports=t(19)},,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),u=t(8),l=t.n(u),c=(t(14),t(1)),i=t.n(c),o=t(2),s=t(3),y=t(5),p=t(4),d=t(6);t(16);var f=function(e){var a=e.square;return r.a.createElement("button",{className:e.square.aktywny?"bodyActive":"bodyInactive",onClick:e.onClick},a.value," ",r.a.createElement("br",null)," ",a.player)},k=(t(17),function(e){Object(y.a)(t,e);var a=Object(p.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.stan;return r.a.createElement("ul",{className:"board"},a.map((function(a){return r.a.createElement(f,{key:a.uid,square:a,onClick:function(){return e.props.onClick(a)},napis:"guzik"})})))}}]),t}(r.a.Component));t(18);var v=function(e){return r.a.createElement("div",{className:"gameInfo"},r.a.createElement("button",{className:"null"===e.dice?"buttonActive":"buttonInactive",onClick:e.start},"START Gry"),r.a.createElement("div",{className:"infobox"},r.a.createElement("p",null,"Aktualny gracz:"),r.a.createElement("p",{className:"infoValue"}," ",e.player," ")),r.a.createElement("div",{className:"infobox"},r.a.createElement("p",null,"Wynik kostki:"),r.a.createElement("p",{className:"infoValue"}," ",e.dice," ")))};var h=function(){var e=function(){},a={_base:{A:{uid:"A",value:0,player:null,aktywny:!1,extra:!1,update:e},B:{uid:"B",value:0,player:null,aktywny:!1,extra:!1,update:e},C:{uid:"C",value:0,player:null,aktywny:!1,extra:!1,update:e},D:{uid:"D",value:0,player:null,aktywny:!1,extra:!1,update:e},E:{uid:"E",value:3,player:"White",aktywny:!1,extra:!1,update:e},F:{uid:"F",value:0,player:null,aktywny:!1,extra:!1,update:e},G:{uid:"G",value:0,player:null,aktywny:!1,extra:!1,update:e},H:{uid:"H",value:0,player:null,aktywny:!1,extra:!1,update:e},I:{uid:"I",value:0,player:null,aktywny:!1,extra:!1,update:e},J:{uid:"J",value:0,player:null,aktywny:!1,extra:!1,update:e},K:{uid:"K",value:0,player:null,aktywny:!1,extra:!1,update:e},L:{uid:"L",value:0,player:null,aktywny:!1,extra:!1,update:e},M:{uid:"M",value:0,player:null,aktywny:!1,extra:!1,update:e},N:{uid:"N",value:0,player:null,aktywny:!1,extra:!1,update:e},O:{uid:"O",value:0,player:null,aktywny:!1,extra:!1,update:e},P:{uid:"P",value:0,player:null,aktywny:!1,extra:!1,update:e},R:{uid:"R",value:0,player:null,aktywny:!1,extra:!1,update:e},S:{uid:"S",value:0,player:null,aktywny:!1,extra:!1,update:e},T:{uid:"T",value:0,player:null,aktywny:!1,extra:!1,update:e},U:{uid:"U",value:0,player:null,aktywny:!1,extra:!1,update:e},W:{uid:"W",value:3,player:"Black",aktywny:!1,extra:!1,update:e},X:{uid:"X",value:0,player:null,aktywny:!1,extra:!1,update:e},Y:{uid:"Y",value:0,player:null,aktywny:!1,extra:!1,update:e},Z:{uid:"Z",value:0,player:null,aktywny:!1,extra:!1,update:e}},_pathsForPlayers:{White:["E","D","C","B","A","I","J","K","L","M","N","O","P","H","G","F"],Black:["W","U","T","S","R","I","J","K","L","M","N","O","P","Z","Y","X"]},_render:[["A","B","C","D","E","F","G","H"],["I","J","K","L","M","N","O","P"],["R","S","T","U","W","X","Y","Z"]],getFirstPlayer:function(){return"White"},getPlayerPath:function(e){var a=this;return this._pathsForPlayers[e].map((function(e){return a._base[e]}))},nextPlayer:function(e){return"White"===e?"Black":"White"},renderSquares:function(){var e=this;return this._render.map((function(a){return a.map((function(a){return e._base[a]}))})).flat()},receipt:null};return a};function m(e){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,a)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){Object(y.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).startGameLoop=Object(d.a)(i.a.mark((function e(){var a,t,r,u,l,c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=h(),t=a.getFirstPlayer(),r=a.renderSquares(),n.setState({squares:r});case 4:return e.next=7,m(800);case 7:if(u=n.roll_dice(),l=a.getPlayerPath(t),n.setState({actDice:u,actPlayer:t}),c=n.zwraca_pola_do_aktywacji({playerPath:l,dice:u,player:t}),n.setState({activeSquares:c}),0!==c.length){e.next=16;break}return t=a.nextPlayer(t),n.koniec_tury(),e.abrupt("continue",4);case 16:return e.next=18,n.czekaj_na_wskazanie_pola(c);case 18:if(o=e.sent,console.log("AKTYWNE POLA: ",n.state.activeSquares),s=n.wykonaj_ruch({store:a,squares:r,playerPath:l,sourceSquare:o,dice:u,player:t}),n.setState({squares:s,activeSquares:[]}),console.warn(n.state.squares),!n.czy_wygral_gracz({playerPath:l})){e.next=25;break}return e.abrupt("break",30);case 25:!1,(!1).extra||(t=a.nextPlayer(t),console.warn("::WHILE:: sprawd\u017a extra: Zmiana gracza.")),n.koniec_tury(),e.next=4;break;case 30:n.koniec_gry(r),n.setState({actDice:"null",actPlayer:t});case 32:case"end":return e.stop()}}),e)}))),n.roll_dice=function(){var e=Math.floor(16*Math.random()+0);return console.log("wynik kostki:",e),0===e?0:e>=1&&e<=4?1:e>=5&&e<=10?2:e>=11&&e<=14?3:15===e?4:void 0},n.zwraca_pola_do_aktywacji=function(e){var a=e.playerPath,t=e.dice,n=e.player,r=[];return a.forEach((function(e,a,u){!e.value<=0&&(e.player===n&&a+t<=u.length-1&&u[a+t].player!==n&&(e.aktywny=!0,r.push(e.uid)))})),r},n.czekaj_na_wskazanie_pola=function(){var e=Object(d.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){n.receipt={resolve:e,reject:a}}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.przetestuj_wykonaj_ruch=function(){},n.wykonaj_ruch=function(e){var a=e.store,t=e.squares,n=e.playerPath,r=e.sourceSquare,u=e.dice,l=e.player;console.log("STATE first",t);var c=t.slice(),i=a.nextPlayer(l),o=a.getPlayerPath(i),s=n.findIndex((function(e){return e.uid===r.uid})),y=n[s+u],p=o[0],d=n[n.length-1],f=c.findIndex((function(e){return e.uid===p.uid})),k=c.findIndex((function(e){return e.uid===n[0].uid})),v=c.findIndex((function(e){return e.uid===d.uid})),h=c.findIndex((function(e){return e.uid===r.uid})),m=c.findIndex((function(e){return e.uid===y.uid}));return console.log("OS   player FIRST index: ",k),console.log("OS   player last index: ",v),console.log("OS   Enemy first index: ",f),console.log("OS source square index: ",h),console.log("OS target square index: ",m),c[m].player===i&&(c[m].value-=1,c[f].value+=1),c[h].value-=1,c[h].player=null,c[m].value+=1,c[m].player=l,c[v].player=null,c[k].player=l,c.forEach((function(e){e.aktywny=!1})),c},n.czy_wygral_gracz=function(e){var a=e.playerPath;return 3===a[a.length-1].value},n.koniec_tury=function(){console.log("koniec tury")},n.koniec_gry=function(e){console.log("koniec gry; FUNKCJA, KONIEC GRY"),alert("PRZESZED\u0141E\u015a CA\u0141A GR\u0118!! GRATULUJ\u0118!!")},n.state={squares:[],activeSquares:[],actPlayer:"gracz",actDice:"null"},n}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.state.squares,t=this.state.actPlayer,n=this.state.actDice;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,'"Game Of Ur"'),r.a.createElement(v,{start:this.startGameLoop,player:t,dice:n}),r.a.createElement(k,{stan:a,onClick:function(a){return e.handleClick(a)}}))}},{key:"sendGameInfo",value:function(e,a){var t=this,n=e;this.setState({actPlayer:n,actDice:a}),setTimeout((function(){console.log(t.state)}),100)}},{key:"handleClick",value:function(e){this.receipt?this.receipt.resolve(e):console.error(" !  ojjojoj, brakuje paragonu")}}]),t}(r.a.Component),g=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w,null)))};l.a.render(r.a.createElement(g,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.a2628022.chunk.js.map