(this.webpackJsonproyalgameofur=this.webpackJsonproyalgameofur||[]).push([[0],[,,,,,,,,,,function(e,a,t){e.exports=t(20)},,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),o=(t(15),t(7)),u=t(1),s=t.n(u),i=t(2),y=t(3),p=t(5),f=t(4),k=t(6);t(17);var d=function(e){var a=e.square;return r.a.createElement("button",{className:e.square.aktywny?"bodyActive":"bodyInactive",onClick:e.onClick},a.value," ",r.a.createElement("br",null)," ",a.player)},v=(t(18),function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(y.a)(t,[{key:"render",value:function(){var e=this,a=this.props.stan;return r.a.createElement("ul",{className:"board"},a.map((function(a){return r.a.createElement(d,{key:a.uid,square:a,onClick:function(){return e.props.onClick(a)},napis:"guzik"})})))}}]),t}(r.a.Component));t(19);var h=function(e){return r.a.createElement("div",{className:"gameInfo"},r.a.createElement("button",{className:"null"===e.dice?"buttonActive":"buttonInactive",onClick:e.start},"START Gry"),r.a.createElement("div",{className:"infobox"},r.a.createElement("p",null,"Aktualny gracz:"),r.a.createElement("p",{className:"infoValue"}," ",e.player," ")),r.a.createElement("div",{className:"infobox"},r.a.createElement("p",null,"Wynik kostki:"),r.a.createElement("p",{className:"infoValue"}," ",e.dice," ")))};var m=function(){var e=function(){},a={_base:{A:{uid:"A",value:2,player:"White",aktywny:!1,extra:!1,update:e},B:{uid:"B",value:0,player:null,aktywny:!1,extra:!1,update:e},C:{uid:"C",value:0,player:null,aktywny:!1,extra:!1,update:e},D:{uid:"D",value:0,player:null,aktywny:!1,extra:!1,update:e},E:{uid:"E",value:0,player:null,aktywny:!1,extra:!1,update:e},F:{uid:"F",value:2,player:"Black",aktywny:!1,extra:!1,update:e},G:{uid:"G",value:0,player:null,aktywny:!1,extra:!1,update:e},H:{uid:"H",value:0,player:null,aktywny:!1,extra:!1,update:e},I:{uid:"I",value:0,player:null,aktywny:!1,extra:!1,update:e},J:{uid:"J",value:0,player:null,aktywny:!1,extra:!1,update:e}},_pathsForPlayers:{White:["A","B","C","D","E"],Black:["F","G","H","I","J"]},_render:[["A","B","C","D","E"],["F","G","H","I","J"]],getFirstPlayer:function(){return"White"},getPlayerPath:function(e){var a=this;return this._pathsForPlayers[e].map((function(e){return a._base[e]}))},nextPlayer:function(e){return"White"===e?"Black":"White"},renderSquares:function(){var e=this;return this._render.map((function(a){return a.map((function(a){return e._base[a]}))})).flat()},receipt:null};return a}();function g(e){return w.apply(this,arguments)}function w(){return(w=Object(k.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,a)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).startGameLoop=Object(k.a)(s.a.mark((function e(){var a,t,r,l,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.store,t=a.getFirstPlayer(),console.log("START GRY, zaczyna: ".concat(t));case 3:return e.next=6,g(800);case 6:if(console.error("Teraz player: ".concat(t)),r=n.rzucamy_kostka(),n.sendGameInfo(t,r),0!==(l=n.zwraca_pola_do_aktywacji({store:a,dice:r,player:t})).length){e.next=14;break}return t=a.nextPlayer(t),n.koniec_tury(),e.abrupt("continue",3);case 14:return e.next=16,n.czekaj_na_wskazanie_pola(l);case 16:if(c=e.sent,console.log("czekaj_na_wskazanie_pola zrw\xc3\xb3ci\xc5\x82o: ",c),o=n.wykonaj_ruch({store:a,pole:c,dice:r,player:t}),!n.czy_wygral_gracz({store:a,player:t})){e.next=21;break}return e.abrupt("break",25);case 21:o.extra||(t=a.nextPlayer(t),console.warn("::WHILE:: sprawd\xc5\xba extra: Zmiana gracza.")),n.koniec_tury(),e.next=3;break;case 25:n.koniec_gry(t),console.log("Gra si\xc4\x99\xc2\xa0zako\xc5\x84czy\xc5\x82a, wygra\xc5\x82 player: ",t),console.log(n.state.squares);case 28:case"end":return e.stop()}}),e)}))),n.rzucamy_kostka=function(){var e=Math.floor(5*Math.random()+0);return console.log("wynik kostki:",e),e},n.zwraca_pola_do_aktywacji=function(e){var a=e.store,t=e.dice,r=e.player,l=[],c=n.state.squares.slice();return a.getPlayerPath(r).forEach((function(e,a,n){!e.value<=0&&(e.player===r&&a+t<=n.length-1&&n[a+t].player!==r&&(e.aktywny=!0,l.push(e)))})),console.log(c),l.forEach((function(e,a,t){c.forEach((function(a,t,n){a.uid===e.uid&&(a=e)}))})),console.log(c),n.setState({squares:c}),console.log("zwraca_pola_do_aktywacji: ",l),l},n.czekaj_na_wskazanie_pola=function(){var e=Object(k.a)(s.a.mark((function e(a){var t,r,l,c,u,i,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("czekaj_na_wskazanie_pola: AKTYWACJA: ",a),t=Object(o.a)(a);try{for(t.s();!(r=t.n()).done;)(l=r.value).aktywny=!0,l.update()}catch(s){t.e(s)}finally{t.f()}return e.next=5,new Promise((function(e,a){n.receipt={resolve:e,reject:a}}));case 5:c=e.sent,u=Object(o.a)(a);try{for(u.s();!(i=u.n()).done;)(y=i.value).aktywny=!1,y.update()}catch(s){u.e(s)}finally{u.f()}return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.wykonaj_ruch=function(e){var a=e.store,t=e.pole,r=e.dice,l=e.player,c=a.getPlayerPath(l),o=a.getPlayerPath(a.nextPlayer(l)),u=n.state.squares,s=c.findIndex((function(e){return e.uid===t.uid})),i=t,y=c[s+r],p=o[0],f=c[c.length-1];return console.log("PlayerPath",c),console.log("SourceSquare",i),console.log("sourceIndex",s),console.log("Target",y),console.log("Enemy",o),console.log("Enemy",p),console.log("STATE",u),y.player===a.nextPlayer()&&(p.value+=1),i.value-=1,y.value+=1,y.player=l,0===i.value&&(i.player=null),y.uid===f.uid&&(y.player=null),i.update(),y.update(),p.update(),y},n.czy_wygral_gracz=function(e){var a=e.store,t=e.player,n=a.getPlayerPath(t);return 2===n[n.length-1].value},n.koniec_tury=function(){console.log("koniec tury")},n.koniec_gry=function(){var e,a=n.state.squares,t=Object(o.a)(a);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.value=0,r.player=null,r.aktywny=!1}}catch(l){t.e(l)}finally{t.f()}a[0].player="White",a[5].player="Black",a[0].value=2,a[5].value=2,n.setState({squares:a,actPlayer:"gracz",actDice:"null"}),console.log("koniec gry; FUNKCJA, KONIEC GRY"),alert("PRZESZED\xc5\x81E\xc5\x9a CA\xc5\x81A GR\xc4\x98!! GRATULUJ\xc4\x98!!")},n.state={store:m,squares:m.renderSquares(),actPlayer:"gracz",actDice:"null"},n}return Object(y.a)(t,[{key:"render",value:function(){var e=this,a=this.state.squares,t=this.state.actPlayer,n=this.state.actDice;return console.log("RENDER",t),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,'"Game Of Ur"'),r.a.createElement(h,{start:this.startGameLoop,player:t,dice:n}),r.a.createElement(v,{stan:a,onClick:function(a){return e.handleClick(a)}}))}},{key:"sendGameInfo",value:function(e,a){var t=e;this.setState({actPlayer:t,actDice:a})}},{key:"handleClick",value:function(e){this.receipt?this.receipt.resolve(e):console.error(" !  ojjojoj, brakuje paragonu")}}]),t}(r.a.Component),b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(_,null)))};c.a.render(r.a.createElement(b,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.3db089d2.chunk.js.map