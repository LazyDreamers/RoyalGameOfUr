(this.webpackJsonproyalgameofur=this.webpackJsonproyalgameofur||[]).push([[0],{10:function(e,a,r){e.exports=r(19)},15:function(e,a,r){},17:function(e,a,r){},18:function(e,a,r){},19:function(e,a,r){"use strict";r.r(a);var n=r(0),t=r.n(n),o=r(5),c=r.n(o),l=(r(15),r(3)),u=r(1),i=r.n(u),s=r(2),y=r(6),p=r(7),k=r(9),f=r(8),d=(r(17),function(e){e.uid;var a=e.square,r=e.aktywny,n=e.value,o=e.player,c=e.zmiana;return t.a.createElement("button",{className:r?"bodyActive":"bodyInactive",onClick:function(){c(a)}},n," ",o)});r(18);function w(){var e={_base:{A:{uid:"A",value:2,player:"dawid",aktywny:!1,extra:!1},B:{uid:"B",value:0,player:null,aktywny:!1,extra:!1},C:{uid:"C",value:0,player:null,aktywny:!1,extra:!1},D:{uid:"D",value:2,player:"damian",aktywny:!1,extra:!1},E:{uid:"E",value:0,player:null,aktywny:!1,extra:!1},F:{uid:"F",value:0,player:null,aktywny:!1,extra:!1}},_pathsForPlayers:{dawid:["A","B","E","F"],damian:["D","E","B","C"]},_render:[["A","B","C"],["D","E","F"]],receipt:{resolve:function(e){},reject:function(e){}},getFirstPlayer:function(){return"dawid"},getPlayerPath:function(e){var a=this;return this._pathsForPlayers[e].map((function(e){return a._base[e]}))},nextPlayer:function(e){return"dawid"===e?"damian":"dawid"},renderSquares:function(){var e=this;return this._render.map((function(a){return a.map((function(a){return e._base[a]}))})).flat()}};return e.receipt=null,e}var _=function(e){Object(k.a)(r,e);var a=Object(f.a)(r);function r(){var e;Object(y.a)(this,r);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(e=a.call.apply(a,[this].concat(t))).store=w(),e.startGameLoop=Object(s.a)(i.a.mark((function a(){var r,n,t,o,c,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.store,n=r.getFirstPlayer(),console.log("START GRY, zaczyna: ".concat(n));case 3:if(console.error("Teraz player: ".concat(n)),t=e.rzucamy_kostk\u0105(),0!==(o=e.zwraca_pola_do_aktywacji({store:r,dice:t,player:n})).length){a.next=11;break}return n=r.nextPlayer(n),e.koniec_tury(),a.abrupt("continue",3);case 11:return a.next=13,e.czekaj_na_wskazanie_pola(o);case 13:if(c=a.sent,console.log("czekaj_na_wskazanie_pola zrw\xf3ci\u0142o: ",c),l=e.wykonaj_ruch({store:r,pole:c,dice:t,player:n}),!e.czy_wygra\u0142_gracz({store:r,player:n})){a.next=18;break}return a.abrupt("break",22);case 18:l.extra||(n=e.change_player(n),console.warn("::WHILE:: sprawd\u017a extra: Zmiana gracza.")),e.koniec_tury(),a.next=3;break;case 22:e.koniec_gry(n),console.log("Gra si\u0119\xa0zako\u0144czy\u0142a, wygra\u0142 player: ",n);case 24:case"end":return a.stop()}}),a)}))),e.rzucamy_kostk\u0105=function(){var e=Math.floor(5*Math.random()+0);return console.log("wynik kostki:",e),e},e.zwraca_pola_do_aktywacji=function(e){var a=e.store,r=e.dice,n=e.player,t=[];return a.getPlayerPath(n).forEach((function(e,a,o){!e.value<=0&&(e.player===n&&a+r<=o.length-1&&o[a+r].player!==n&&(e.aktywny=!0,t.push(e)))})),console.log("zwraca_pola_do_aktywacji: ",t),t},e.czy_jest_jakiekolwiek_aktywne_pole=function(a){var r=e.state.squares.some((function(e){return!0===e.aktywny}));return console.log("Jest aktywne pole",r),r},e.czekaj_na_wskazanie_pola=function(){var a=Object(s.a)(i.a.mark((function a(r){var n,t,o,c,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log("czekaj_na_wskazanie_pola: AKTYWACJA: ",r),n=Object(l.a)(r);try{for(n.s();!(t=n.n()).done;)t.value.aktywny=!0}catch(i){n.e(i)}finally{n.f()}return a.next=5,new Promise((function(a,r){console.log("w\u0142\u0105\u015bnie zrobi\u0142 si\u0119\xa0nowy PROMISE",e.receipt),e.receipt={resolve:a,reject:r}}));case 5:o=a.sent,c=Object(l.a)(r);try{for(c.s();!(u=c.n()).done;)u.value.aktywny=!1}catch(i){c.e(i)}finally{c.f()}return a.abrupt("return",o);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.wykonaj_ruch=function(e){var a=e.store,r=e.pole,n=e.dice,t=e.player,o=a.getPlayerPath(t),c=o.findIndex((function(e){return e===r.uid})),l=r,u=o[c+n];u.player!==t&&u.value>0&&(a.getPlayerPath(a.nextPlayer(t))[0].value+=u.value,u.player=null,u.value=0);return l.value-=1,u.player=t,u.value+=1,0===l.value&&(l.player=null),u},e.czy_wygra\u0142_gracz=function(e){var a=e.store,r=e.player,n=a.getPlayerPath(r);return 2===n[n.length-1].value},e.koniec_tury=function(){console.log("koniec tury")},e.koniec_gry=function(){console.log("koniec gry; FUNKCJA, KONIEC GRY"),alert("PRZESZED\u0141E\u015a CA\u0141A GR\u0118!! GRATULUJ\u0118!!")},e.handleClick=function(a){e.receipt?e.receipt.resolve(a):console.error(" !  ojjojoj, brakuje paragonu")},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return t.a.createElement(t.a.Fragment,null,t.a.createElement("button",{onClick:this.startGameLoop},"START Gry"),t.a.createElement("ul",{className:"board"},this.store.renderSquares().map((function(a){return t.a.createElement(d,Object.assign({key:a.uid},a,{square:a,zmiana:e.handleClick}))}))))}}]),r}(t.a.Component),v=function(){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",null,t.a.createElement(_,null)))};c.a.render(t.a.createElement(v,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.c9aba215.chunk.js.map